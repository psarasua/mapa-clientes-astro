---
import { getAllClientes } from '../db/clientes';
import { getAllCamiones } from '../db/camiones';
import { getAllDiasEntrega } from '../db/diasEntrega';
import { getAllRepartos } from '../db/repartos';
import { getAllClientesReparto } from '../db/clientesReparto';

const clientes = getAllClientes();
const camiones = getAllCamiones();
const dias = getAllDiasEntrega();
const repartos = getAllRepartos();
const clientesReparto = getAllClientesReparto();

const capacidadTotal = camiones.reduce((acc: number, c: { capacidad: number }) => acc + (Number(c.capacidad) || 0), 0);
---
<div class="container mb-4">
  <div class="row g-3">
    <div class="col-12 col-md-4">
      <div class="card text-center border-warning">
        <div class="card-body">
          <h6 class="card-subtitle mb-2 text-muted">Clientes</h6>
          <h3 class="card-title text-dark">{clientes.length}</h3>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-4">
      <div class="card text-center border-warning">
        <div class="card-body">
          <h6 class="card-subtitle mb-2 text-muted">Camiones</h6>
          <h3 class="card-title text-dark">{camiones.length}</h3>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-4">
      <div class="card text-center border-warning">
        <div class="card-body">
          <h6 class="card-subtitle mb-2 text-muted">Capacidad total</h6>
          <h3 class="card-title text-dark">{capacidadTotal}</h3>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-4">
      <div class="card text-center border-warning">
        <div class="card-body">
          <h6 class="card-subtitle mb-2 text-muted">DÃ­as de Entrega</h6>
          <h3 class="card-title text-dark">{dias.length}</h3>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-4">
      <div class="card text-center border-warning">
        <div class="card-body">
          <h6 class="card-subtitle mb-2 text-muted">Repartos</h6>
          <h3 class="card-title text-dark">{repartos.length}</h3>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-4">
      <div class="card text-center border-warning">
        <div class="card-body">
          <h6 class="card-subtitle mb-2 text-muted">Clientes Reparto</h6>
          <h3 class="card-title text-dark">{clientesReparto.length}</h3>
        </div>
      </div>
    </div>
  </div>
</div>
